{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar react_native_1 = require(\"react-native-web/dist/index\");\n\nvar react_native_gesture_handler_1 = require(\"react-native-gesture-handler\");\n\nvar windowHeight = react_native_1.Dimensions.get(\"window\").height;\n\nvar BottomSheet = function (_super) {\n  __extends(BottomSheet, _super);\n\n  function BottomSheet(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this._onHeaderHandlerStateChange = function (_a) {\n      var nativeEvent = _a.nativeEvent;\n\n      if (nativeEvent.oldState === react_native_gesture_handler_1.State.BEGAN) {\n        _this.setState({\n          onSwipe: true\n        });\n\n        _this.state._lastScrollY.setValue(0);\n      } else if (nativeEvent.state === 5) {\n        _this.setState({\n          onSwipe: false\n        });\n      }\n\n      _this._onHandlerStateChange({\n        nativeEvent: nativeEvent\n      });\n    };\n\n    _this._onHandlerStateChange = function (_a) {\n      var nativeEvent = _a.nativeEvent;\n\n      if (nativeEvent.oldState === react_native_gesture_handler_1.State.ACTIVE) {\n        var velocityY = nativeEvent.velocityY,\n            translationY = nativeEvent.translationY;\n        translationY -= _this.state._lastScrollYValue;\n        var dragToss = 0.05;\n        var endOffsetY = _this.state.lastSnap + translationY + dragToss * velocityY * 2;\n        var destSnapPoint_1 = _this.SNAP_POINTS_FROM_TOP[0];\n\n        for (var i = 0; i < _this.SNAP_POINTS_FROM_TOP.length; i++) {\n          var snapPoint = _this.SNAP_POINTS_FROM_TOP[i];\n          var distFromSnap = Math.abs(snapPoint - endOffsetY);\n\n          if (distFromSnap < Math.abs(destSnapPoint_1 - endOffsetY)) {\n            destSnapPoint_1 = snapPoint;\n          }\n        }\n\n        _this._translateYOffset.extractOffset();\n\n        _this._translateYOffset.setValue(translationY);\n\n        _this._translateYOffset.flattenOffset();\n\n        _this._dragY.setValue(0);\n\n        react_native_1.Animated.spring(_this._translateYOffset, {\n          velocity: velocityY,\n          tension: 68,\n          friction: 12,\n          toValue: destSnapPoint_1,\n          useNativeDriver: true\n        }).start(function () {\n          if (destSnapPoint_1 === windowHeight) {\n            _this.setState({\n              isVisible: false\n            });\n\n            _this.props.onClose && _this.props.onClose();\n          }\n        });\n      }\n    };\n\n    _this.open = function (visibleHeight, callback) {\n      _this._translateYOffset.setValue(windowHeight);\n\n      _this.setState({\n        isVisible: true\n      }, function () {\n        return react_native_1.Animated.spring(_this._translateYOffset, {\n          velocity: 0.01,\n          tension: 68,\n          friction: 12,\n          toValue: windowHeight - (visibleHeight || _this.props.visibleHeight + 1),\n          useNativeDriver: true\n        }).start(callback && callback());\n      });\n    };\n\n    _this.close = function () {\n      react_native_1.Animated.timing(_this._translateYOffset, {\n        toValue: windowHeight,\n        duration: 200,\n        useNativeDriver: true\n      }).start(function () {\n        _this.setState({\n          isVisible: false\n        });\n\n        _this.props.onClose && _this.props.onClose();\n      });\n    };\n\n    _this.SNAP_POINTS_FROM_TOP = [windowHeight - _this.props.visibleHeight, windowHeight];\n    var START = _this.SNAP_POINTS_FROM_TOP[0];\n    var END = _this.SNAP_POINTS_FROM_TOP[_this.SNAP_POINTS_FROM_TOP.length - 1];\n    _this.state = {\n      lastSnap: START,\n      isVisible: false,\n      onSwipe: false,\n      _lastScrollY: new react_native_1.Animated.Value(0),\n      _lastScrollYValue: 0\n    };\n\n    _this.state._lastScrollY.addListener(function (_a) {\n      var value = _a.value;\n\n      _this.setState({\n        _lastScrollYValue: value\n      });\n    });\n\n    _this._dragY = new react_native_1.Animated.Value(0);\n    _this._onGestureEvent = react_native_1.Animated.event([{\n      nativeEvent: {\n        translationY: _this._dragY\n      }\n    }], {\n      useNativeDriver: true\n    });\n    _this._reverseLastScrollY = react_native_1.Animated.multiply(new react_native_1.Animated.Value(-1), _this.state._lastScrollY);\n    _this._translateYOffset = new react_native_1.Animated.Value(END);\n    _this._translateY = react_native_1.Animated.add(_this._translateYOffset, react_native_1.Animated.add(_this._dragY, _this._reverseLastScrollY)).interpolate({\n      inputRange: [0, START, END],\n      outputRange: [START / 1.2, START, END],\n      extrapolate: \"clamp\"\n    });\n    _this.open = _this.open.bind(_this);\n    _this.close = _this.close.bind(_this);\n    return _this;\n  }\n\n  BottomSheet.prototype.render = function () {\n    var _this = this;\n\n    return react_1.default.createElement(react_native_1.Modal, {\n      visible: this.state.isVisible,\n      transparent: true,\n      style: {\n        flex: 1\n      }\n    }, react_1.default.createElement(react_native_gesture_handler_1.TapGestureHandler, null, react_1.default.createElement(react_native_1.TouchableOpacity, {\n      activeOpacity: 1,\n      style: {\n        flex: 1\n      },\n      onPress: function onPress() {\n        return _this.close();\n      }\n    }, react_1.default.createElement(react_native_1.Animated.View, {\n      style: {\n        flex: 1,\n        backgroundColor: \"#000000\",\n        opacity: this._translateY.interpolate({\n          inputRange: [windowHeight - this.props.visibleHeight, windowHeight],\n          outputRange: [0.5, 0],\n          extrapolate: \"clamp\"\n        })\n      },\n      pointerEvents: \"box-none\"\n    }), react_1.default.createElement(react_native_1.TouchableWithoutFeedback, null, react_1.default.createElement(react_native_1.Animated.View, {\n      style: [react_native_1.StyleSheet.absoluteFillObject, {\n        transform: [{\n          translateY: this._translateY\n        }]\n      }]\n    }, react_1.default.createElement(react_native_gesture_handler_1.PanGestureHandler, {\n      shouldCancelWhenOutside: false,\n      onGestureEvent: this._onGestureEvent,\n      onHandlerStateChange: this._onHeaderHandlerStateChange\n    }, react_1.default.createElement(react_native_1.Animated.View, {\n      style: {\n        flex: 1\n      }\n    }, this.props.renderContent(this.state.onSwipe))))))));\n  };\n\n  return BottomSheet;\n}(react_1.Component);\n\nexports.default = BottomSheet;","map":{"version":3,"sources":["C:/Users/tboss/CS303-Project-4/node_modules/react-native-animated-bottom-sheet/dist/BottomSheet.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__","constructor","create","__createBinding","o","m","k","k2","undefined","defineProperty","enumerable","get","__setModuleDefault","v","value","__importStar","mod","__esModule","result","exports","react_1","require","react_native_gesture_handler_1","windowHeight","react_native_1","Dimensions","height","BottomSheet","_super","props","_this","_onHeaderHandlerStateChange","_a","nativeEvent","oldState","State","BEGAN","setState","onSwipe","state","_lastScrollY","setValue","_onHandlerStateChange","ACTIVE","velocityY","translationY","_lastScrollYValue","dragToss","endOffsetY","lastSnap","destSnapPoint_1","SNAP_POINTS_FROM_TOP","i","length","snapPoint","distFromSnap","Math","abs","_translateYOffset","extractOffset","flattenOffset","_dragY","Animated","spring","velocity","tension","friction","toValue","useNativeDriver","start","isVisible","onClose","open","visibleHeight","callback","close","timing","duration","START","END","Value","addListener","_onGestureEvent","event","_reverseLastScrollY","multiply","_translateY","add","interpolate","inputRange","outputRange","extrapolate","bind","render","default","createElement","Modal","visible","transparent","style","flex","TapGestureHandler","TouchableOpacity","activeOpacity","onPress","View","backgroundColor","opacity","pointerEvents","TouchableWithoutFeedback","StyleSheet","absoluteFillObject","transform","translateY","PanGestureHandler","shouldCancelWhenOutside","onGestureEvent","onHandlerStateChange","renderContent","Component"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = __importStar(require(\"react\"));\nvar react_native_1 = require(\"react-native\");\nvar react_native_gesture_handler_1 = require(\"react-native-gesture-handler\");\nvar windowHeight = react_native_1.Dimensions.get(\"window\").height;\nvar BottomSheet = /** @class */ (function (_super) {\n    __extends(BottomSheet, _super);\n    function BottomSheet(props) {\n        var _this = _super.call(this, props) || this;\n        _this._onHeaderHandlerStateChange = function (_a) {\n            var nativeEvent = _a.nativeEvent;\n            if (nativeEvent.oldState === react_native_gesture_handler_1.State.BEGAN) {\n                _this.setState({\n                    onSwipe: true,\n                });\n                // this.props.onSwipeStart && this.props.onSwipeStart();\n                _this.state._lastScrollY.setValue(0);\n            }\n            else if (nativeEvent.state === 5) {\n                _this.setState({\n                    onSwipe: false,\n                });\n                // this.props.onSwipeEnd && this.props.onSwipeEnd();\n            }\n            _this._onHandlerStateChange({ nativeEvent: nativeEvent });\n        };\n        _this._onHandlerStateChange = function (_a) {\n            var nativeEvent = _a.nativeEvent;\n            if (nativeEvent.oldState === react_native_gesture_handler_1.State.ACTIVE) {\n                var velocityY = nativeEvent.velocityY, translationY = nativeEvent.translationY;\n                translationY -= _this.state._lastScrollYValue;\n                var dragToss = 0.05;\n                var endOffsetY = _this.state.lastSnap + translationY + dragToss * velocityY * 2;\n                var destSnapPoint_1 = _this.SNAP_POINTS_FROM_TOP[0];\n                for (var i = 0; i < _this.SNAP_POINTS_FROM_TOP.length; i++) {\n                    var snapPoint = _this.SNAP_POINTS_FROM_TOP[i];\n                    var distFromSnap = Math.abs(snapPoint - endOffsetY);\n                    if (distFromSnap < Math.abs(destSnapPoint_1 - endOffsetY)) {\n                        destSnapPoint_1 = snapPoint;\n                    }\n                }\n                _this._translateYOffset.extractOffset();\n                _this._translateYOffset.setValue(translationY);\n                _this._translateYOffset.flattenOffset();\n                _this._dragY.setValue(0);\n                react_native_1.Animated.spring(_this._translateYOffset, {\n                    velocity: velocityY,\n                    tension: 68,\n                    friction: 12,\n                    toValue: destSnapPoint_1,\n                    useNativeDriver: true,\n                }).start(function () {\n                    if (destSnapPoint_1 === windowHeight) {\n                        _this.setState({\n                            isVisible: false,\n                        });\n                        _this.props.onClose && _this.props.onClose();\n                    }\n                });\n            }\n        };\n        _this.open = function (visibleHeight, callback) {\n            _this._translateYOffset.setValue(windowHeight);\n            _this.setState({\n                isVisible: true,\n            }, function () {\n                return react_native_1.Animated.spring(_this._translateYOffset, {\n                    velocity: 0.01,\n                    tension: 68,\n                    friction: 12,\n                    toValue: windowHeight - (visibleHeight || _this.props.visibleHeight + 1),\n                    useNativeDriver: true,\n                }).start(callback && callback());\n            });\n        };\n        _this.close = function () {\n            react_native_1.Animated.timing(_this._translateYOffset, {\n                toValue: windowHeight,\n                duration: 200,\n                useNativeDriver: true,\n            }).start(function () {\n                _this.setState({\n                    isVisible: false,\n                });\n                _this.props.onClose && _this.props.onClose();\n            });\n        };\n        _this.SNAP_POINTS_FROM_TOP = [\n            windowHeight - _this.props.visibleHeight,\n            windowHeight,\n        ];\n        var START = _this.SNAP_POINTS_FROM_TOP[0];\n        var END = _this.SNAP_POINTS_FROM_TOP[_this.SNAP_POINTS_FROM_TOP.length - 1];\n        _this.state = {\n            lastSnap: START,\n            isVisible: false,\n            onSwipe: false,\n            _lastScrollY: new react_native_1.Animated.Value(0),\n            _lastScrollYValue: 0,\n        };\n        // this._backgroundOpacity = new Animated.Value(\n        //   windowHeight - this.props.visibleHeight,\n        // );\n        _this.state._lastScrollY.addListener(function (_a) {\n            var value = _a.value;\n            _this.setState({\n                _lastScrollYValue: value,\n            });\n        });\n        _this._dragY = new react_native_1.Animated.Value(0);\n        _this._onGestureEvent = react_native_1.Animated.event([{ nativeEvent: { translationY: _this._dragY } }], {\n            useNativeDriver: true,\n        });\n        _this._reverseLastScrollY = react_native_1.Animated.multiply(new react_native_1.Animated.Value(-1), _this.state._lastScrollY);\n        _this._translateYOffset = new react_native_1.Animated.Value(END);\n        _this._translateY = react_native_1.Animated.add(_this._translateYOffset, react_native_1.Animated.add(_this._dragY, _this._reverseLastScrollY)).interpolate({\n            inputRange: [0, START, END],\n            outputRange: [START / 1.2, START, END],\n            extrapolate: \"clamp\",\n        });\n        _this.open = _this.open.bind(_this);\n        _this.close = _this.close.bind(_this);\n        return _this;\n    }\n    BottomSheet.prototype.render = function () {\n        var _this = this;\n        return (react_1.default.createElement(react_native_1.Modal, { visible: this.state.isVisible, transparent: true, style: { flex: 1 } },\n            react_1.default.createElement(react_native_gesture_handler_1.TapGestureHandler, null,\n                react_1.default.createElement(react_native_1.TouchableOpacity, { activeOpacity: 1, style: { flex: 1 }, onPress: function () { return _this.close(); } },\n                    react_1.default.createElement(react_native_1.Animated.View, { style: {\n                            flex: 1,\n                            backgroundColor: \"#000000\",\n                            opacity: this._translateY.interpolate({\n                                inputRange: [\n                                    windowHeight - this.props.visibleHeight,\n                                    windowHeight,\n                                ],\n                                outputRange: [0.5, 0],\n                                extrapolate: \"clamp\",\n                            }),\n                        }, pointerEvents: \"box-none\" }),\n                    react_1.default.createElement(react_native_1.TouchableWithoutFeedback, null,\n                        react_1.default.createElement(react_native_1.Animated.View, { style: [\n                                react_native_1.StyleSheet.absoluteFillObject,\n                                {\n                                    transform: [{ translateY: this._translateY }],\n                                },\n                            ] },\n                            react_1.default.createElement(react_native_gesture_handler_1.PanGestureHandler, { shouldCancelWhenOutside: false, onGestureEvent: this._onGestureEvent, onHandlerStateChange: this._onHeaderHandlerStateChange },\n                                react_1.default.createElement(react_native_1.Animated.View, { style: { flex: 1 } }, this.props.renderContent(this.state.onSwipe)))))))));\n    };\n    return BottomSheet;\n}(react_1.Component));\nexports.default = BottomSheet;\n"]},"metadata":{},"sourceType":"script"}