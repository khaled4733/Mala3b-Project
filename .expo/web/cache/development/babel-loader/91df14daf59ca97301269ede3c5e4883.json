{"ast":null,"code":"'use strict';\n\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport Platform from \"../Utilities/Platform\";\nimport NativeDialogManagerAndroid from \"../NativeModules/specs/NativeDialogManagerAndroid\";\nimport RCTAlertManager from \"./RCTAlertManager\";\n\nvar Alert = function () {\n  function Alert() {\n    _classCallCheck(this, Alert);\n  }\n\n  _createClass(Alert, null, [{\n    key: \"alert\",\n    value: function alert(title, message, buttons, options) {\n      if (Platform.OS === 'ios') {\n        Alert.prompt(title, message, buttons, 'default');\n      } else if (Platform.OS === 'android') {\n        if (!NativeDialogManagerAndroid) {\n          return;\n        }\n\n        var constants = NativeDialogManagerAndroid.getConstants();\n        var config = {\n          title: title || '',\n          message: message || '',\n          cancelable: false\n        };\n\n        if (options && options.cancelable) {\n          config.cancelable = options.cancelable;\n        }\n\n        var defaultPositiveText = 'OK';\n        var validButtons = buttons ? buttons.slice(0, 3) : [{\n          text: defaultPositiveText\n        }];\n        var buttonPositive = validButtons.pop();\n        var buttonNegative = validButtons.pop();\n        var buttonNeutral = validButtons.pop();\n\n        if (buttonNeutral) {\n          config.buttonNeutral = buttonNeutral.text || '';\n        }\n\n        if (buttonNegative) {\n          config.buttonNegative = buttonNegative.text || '';\n        }\n\n        if (buttonPositive) {\n          config.buttonPositive = buttonPositive.text || defaultPositiveText;\n        }\n\n        var onAction = function onAction(action, buttonKey) {\n          if (action === constants.buttonClicked) {\n            if (buttonKey === constants.buttonNeutral) {\n              buttonNeutral.onPress && buttonNeutral.onPress();\n            } else if (buttonKey === constants.buttonNegative) {\n              buttonNegative.onPress && buttonNegative.onPress();\n            } else if (buttonKey === constants.buttonPositive) {\n              buttonPositive.onPress && buttonPositive.onPress();\n            }\n          } else if (action === constants.dismissed) {\n            options && options.onDismiss && options.onDismiss();\n          }\n        };\n\n        var onError = function onError(errorMessage) {\n          return console.warn(errorMessage);\n        };\n\n        NativeDialogManagerAndroid.showAlert(config, onError, onAction);\n      }\n    }\n  }, {\n    key: \"prompt\",\n    value: function prompt(title, message, callbackOrButtons) {\n      var type = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'plain-text';\n      var defaultValue = arguments.length > 4 ? arguments[4] : undefined;\n      var keyboardType = arguments.length > 5 ? arguments[5] : undefined;\n\n      if (Platform.OS === 'ios') {\n        var callbacks = [];\n        var buttons = [];\n        var cancelButtonKey;\n        var destructiveButtonKey;\n\n        if (typeof callbackOrButtons === 'function') {\n          callbacks = [callbackOrButtons];\n        } else if (Array.isArray(callbackOrButtons)) {\n          callbackOrButtons.forEach(function (btn, index) {\n            callbacks[index] = btn.onPress;\n\n            if (btn.style === 'cancel') {\n              cancelButtonKey = String(index);\n            } else if (btn.style === 'destructive') {\n              destructiveButtonKey = String(index);\n            }\n\n            if (btn.text || index < (callbackOrButtons || []).length - 1) {\n              var btnDef = {};\n              btnDef[index] = btn.text || '';\n              buttons.push(btnDef);\n            }\n          });\n        }\n\n        RCTAlertManager.alertWithArgs({\n          title: title || '',\n          message: message || undefined,\n          buttons: buttons,\n          type: type || undefined,\n          defaultValue: defaultValue,\n          cancelButtonKey: cancelButtonKey,\n          destructiveButtonKey: destructiveButtonKey,\n          keyboardType: keyboardType\n        }, function (id, value) {\n          var cb = callbacks[id];\n          cb && cb(value);\n        });\n      }\n    }\n  }]);\n\n  return Alert;\n}();\n\nmodule.exports = Alert;","map":{"version":3,"sources":["D:/khaled/Matriels/Third Year/Second term/CS303/CS303-Project-1/node_modules/react-native/Libraries/Alert/Alert.js"],"names":["Platform","NativeDialogManagerAndroid","RCTAlertManager","Alert","title","message","buttons","options","OS","prompt","constants","getConstants","config","cancelable","defaultPositiveText","validButtons","slice","text","buttonPositive","pop","buttonNegative","buttonNeutral","onAction","action","buttonKey","buttonClicked","onPress","dismissed","onDismiss","onError","errorMessage","console","warn","showAlert","callbackOrButtons","type","defaultValue","keyboardType","callbacks","cancelButtonKey","destructiveButtonKey","Array","isArray","forEach","btn","index","style","String","length","btnDef","push","alertWithArgs","undefined","id","value","cb","module","exports"],"mappings":"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","sourcesContent":["/**\r\n * Copyright (c) Facebook, Inc. and its affiliates.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n *\r\n * @format\r\n * @flow\r\n */\r\n\r\n'use strict';\r\n\r\nimport Platform from '../Utilities/Platform';\r\nimport NativeDialogManagerAndroid, {\r\n  type DialogOptions,\r\n} from '../NativeModules/specs/NativeDialogManagerAndroid';\r\nimport RCTAlertManager from './RCTAlertManager';\r\n\r\nexport type AlertType =\r\n  | 'default'\r\n  | 'plain-text'\r\n  | 'secure-text'\r\n  | 'login-password';\r\nexport type AlertButtonStyle = 'default' | 'cancel' | 'destructive';\r\nexport type Buttons = Array<{\r\n  text?: string,\r\n  onPress?: ?Function,\r\n  style?: AlertButtonStyle,\r\n  ...\r\n}>;\r\n\r\ntype Options = {\r\n  cancelable?: ?boolean,\r\n  onDismiss?: ?() => void,\r\n  ...\r\n};\r\n\r\n/**\r\n * Launches an alert dialog with the specified title and message.\r\n *\r\n * See https://reactnative.dev/docs/alert.html\r\n */\r\nclass Alert {\r\n  static alert(\r\n    title: ?string,\r\n    message?: ?string,\r\n    buttons?: Buttons,\r\n    options?: Options,\r\n  ): void {\r\n    if (Platform.OS === 'ios') {\r\n      Alert.prompt(title, message, buttons, 'default');\r\n    } else if (Platform.OS === 'android') {\r\n      if (!NativeDialogManagerAndroid) {\r\n        return;\r\n      }\r\n      const constants = NativeDialogManagerAndroid.getConstants();\r\n\r\n      const config: DialogOptions = {\r\n        title: title || '',\r\n        message: message || '',\r\n        cancelable: false,\r\n      };\r\n\r\n      if (options && options.cancelable) {\r\n        config.cancelable = options.cancelable;\r\n      }\r\n      // At most three buttons (neutral, negative, positive). Ignore rest.\r\n      // The text 'OK' should be probably localized. iOS Alert does that in native.\r\n      const defaultPositiveText = 'OK';\r\n      const validButtons: Buttons = buttons\r\n        ? buttons.slice(0, 3)\r\n        : [{text: defaultPositiveText}];\r\n      const buttonPositive = validButtons.pop();\r\n      const buttonNegative = validButtons.pop();\r\n      const buttonNeutral = validButtons.pop();\r\n\r\n      if (buttonNeutral) {\r\n        config.buttonNeutral = buttonNeutral.text || '';\r\n      }\r\n      if (buttonNegative) {\r\n        config.buttonNegative = buttonNegative.text || '';\r\n      }\r\n      if (buttonPositive) {\r\n        config.buttonPositive = buttonPositive.text || defaultPositiveText;\r\n      }\r\n\r\n      const onAction = (action, buttonKey) => {\r\n        if (action === constants.buttonClicked) {\r\n          if (buttonKey === constants.buttonNeutral) {\r\n            buttonNeutral.onPress && buttonNeutral.onPress();\r\n          } else if (buttonKey === constants.buttonNegative) {\r\n            buttonNegative.onPress && buttonNegative.onPress();\r\n          } else if (buttonKey === constants.buttonPositive) {\r\n            buttonPositive.onPress && buttonPositive.onPress();\r\n          }\r\n        } else if (action === constants.dismissed) {\r\n          options && options.onDismiss && options.onDismiss();\r\n        }\r\n      };\r\n      const onError = errorMessage => console.warn(errorMessage);\r\n      NativeDialogManagerAndroid.showAlert(config, onError, onAction);\r\n    }\r\n  }\r\n\r\n  static prompt(\r\n    title: ?string,\r\n    message?: ?string,\r\n    callbackOrButtons?: ?(((text: string) => void) | Buttons),\r\n    type?: ?AlertType = 'plain-text',\r\n    defaultValue?: string,\r\n    keyboardType?: string,\r\n  ): void {\r\n    if (Platform.OS === 'ios') {\r\n      let callbacks = [];\r\n      const buttons = [];\r\n      let cancelButtonKey;\r\n      let destructiveButtonKey;\r\n      if (typeof callbackOrButtons === 'function') {\r\n        callbacks = [callbackOrButtons];\r\n      } else if (Array.isArray(callbackOrButtons)) {\r\n        callbackOrButtons.forEach((btn, index) => {\r\n          callbacks[index] = btn.onPress;\r\n          if (btn.style === 'cancel') {\r\n            cancelButtonKey = String(index);\r\n          } else if (btn.style === 'destructive') {\r\n            destructiveButtonKey = String(index);\r\n          }\r\n          if (btn.text || index < (callbackOrButtons || []).length - 1) {\r\n            const btnDef = {};\r\n            btnDef[index] = btn.text || '';\r\n            buttons.push(btnDef);\r\n          }\r\n        });\r\n      }\r\n\r\n      RCTAlertManager.alertWithArgs(\r\n        {\r\n          title: title || '',\r\n          message: message || undefined,\r\n          buttons,\r\n          type: type || undefined,\r\n          defaultValue,\r\n          cancelButtonKey,\r\n          destructiveButtonKey,\r\n          keyboardType,\r\n        },\r\n        (id, value) => {\r\n          const cb = callbacks[id];\r\n          cb && cb(value);\r\n        },\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nmodule.exports = Alert;\r\n"]},"metadata":{},"sourceType":"module"}