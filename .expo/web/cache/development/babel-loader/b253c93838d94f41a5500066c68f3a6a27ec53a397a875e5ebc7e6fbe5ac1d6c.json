{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { auth, app } from \"./Config\";\nimport { onAuthStateChanged, signInWithEmailAndPassword, createUserWithEmailAndPassword, sendPasswordResetEmail, confirmPasswordReset, signInWithCredential, FacebookAuthProvider, getAuth, updateCurrentUser } from \"firebase/auth\";\nvar authentication = getAuth(app);\nfunction getCurrentUser() {\n  return _regeneratorRuntime.async(function getCurrentUser$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(onAuthStateChanged(auth, function (user) {\n            if (user != null) {\n              console.log(user.email);\n            }\n          }));\n        case 2:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\nfunction isSignedIn() {\n  return _regeneratorRuntime.async(function isSignedIn$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          console.log(\"from isSignedIn method: \", authentication.currentUser);\n          _context2.next = 3;\n          return _regeneratorRuntime.awrap(authentication.currentUser);\n        case 3:\n          _context2.t0 = _context2.sent;\n          return _context2.abrupt(\"return\", _context2.t0 != null);\n        case 5:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\nfunction getUserUId() {\n  return _regeneratorRuntime.async(function getUserUId$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          if (!(authentication.currentUser != null)) {\n            _context3.next = 4;\n            break;\n          }\n          return _context3.abrupt(\"return\", authentication.currentUser.uid);\n        case 4:\n          return _context3.abrupt(\"return\", null);\n        case 5:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\nfunction getUserToken() {\n  return _regeneratorRuntime.async(function getUserToken$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          if (!(authentication.currentUser != null)) {\n            _context4.next = 4;\n            break;\n          }\n          _context4.next = 3;\n          return _regeneratorRuntime.awrap(authentication.currentUser.getIdToken());\n        case 3:\n          return _context4.abrupt(\"return\", _context4.sent);\n        case 4:\n          return _context4.abrupt(\"return\", null);\n        case 5:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\nfunction register(email, password) {\n  return _regeneratorRuntime.async(function register$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.next = 2;\n          return _regeneratorRuntime.awrap(createUserWithEmailAndPassword(auth, email, password));\n        case 2:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\nfunction login(email, password) {\n  return _regeneratorRuntime.async(function login$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.next = 2;\n          return _regeneratorRuntime.awrap(signInWithEmailAndPassword(auth, email, password));\n        case 2:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\nfunction signout() {\n  return _regeneratorRuntime.async(function signout$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          authentication.signOut().then().catch(function (e) {\n            return console.log(e.message);\n          });\n        case 1:\n        case \"end\":\n          return _context7.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\nfunction forgotpassword(email) {\n  return _regeneratorRuntime.async(function forgotpassword$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          _context8.next = 2;\n          return _regeneratorRuntime.awrap(sendPasswordResetEmail(auth, email).then(function () {\n            alert(\"Password reset email sent!\");\n          }).catch(function (error) {\n            var errorCode = error.code;\n            var errorMessage = error.message;\n          }));\n        case 2:\n        case \"end\":\n          return _context8.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\nexport { register, login, signout, isSignedIn, getUserUId, getUserToken, forgotpassword, getCurrentUser };","map":{"version":3,"names":["auth","app","onAuthStateChanged","signInWithEmailAndPassword","createUserWithEmailAndPassword","sendPasswordResetEmail","confirmPasswordReset","signInWithCredential","FacebookAuthProvider","getAuth","updateCurrentUser","authentication","getCurrentUser","_regeneratorRuntime","async","getCurrentUser$","_context","prev","next","awrap","user","console","log","email","stop","Promise","isSignedIn","isSignedIn$","_context2","currentUser","t0","sent","abrupt","getUserUId","getUserUId$","_context3","uid","getUserToken","getUserToken$","_context4","getIdToken","register","password","register$","_context5","login","login$","_context6","signout","signout$","_context7","signOut","then","catch","e","message","forgotpassword","forgotpassword$","_context8","alert","error","errorCode","code","errorMessage"],"sources":["C:/Users/Ahmed Hamza/Desktop/Mal3ab project/Mala3b-Project/db/Auth.js"],"sourcesContent":["import { auth, app } from \"./Config\";\r\nimport {\r\n  onAuthStateChanged,\r\n  signInWithEmailAndPassword,\r\n  createUserWithEmailAndPassword,\r\n  sendPasswordResetEmail,\r\n  confirmPasswordReset,\r\n  signInWithCredential,\r\n  FacebookAuthProvider,\r\n  getAuth,\r\n  updateCurrentUser,\r\n} from \"firebase/auth\";\r\n\r\nconst authentication = getAuth(app);\r\n\r\nasync function getCurrentUser() {\r\n  await onAuthStateChanged(auth, (user) => {\r\n    if (user != null) {\r\n      console.log(user.email);\r\n    }\r\n\r\n    // Do other things\r\n  });\r\n}\r\n\r\nasync function isSignedIn() {\r\n  console.log(\"from isSignedIn method: \", authentication.currentUser);\r\n  return (await authentication.currentUser) != null;\r\n}\r\n\r\nasync function getUserUId() {\r\n  if (authentication.currentUser != null) {\r\n    return authentication.currentUser.uid;\r\n  } else {\r\n    return null;\r\n  }\r\n}\r\n\r\nasync function getUserToken() {\r\n  if (authentication.currentUser != null) {\r\n    return await authentication.currentUser.getIdToken();\r\n  }\r\n  return null;\r\n}\r\n\r\nasync function register(email, password) {\r\n  await createUserWithEmailAndPassword(auth, email, password);\r\n}\r\n\r\nasync function login(email, password) {\r\n  await signInWithEmailAndPassword(auth, email, password);\r\n}\r\n\r\nasync function signout() {\r\n  authentication\r\n    .signOut()\r\n    .then()\r\n    .catch((e) => console.log(e.message));\r\n}\r\n\r\nasync function forgotpassword(email) {\r\n  await sendPasswordResetEmail(auth, email)\r\n    .then(() => {\r\n      alert(\"Password reset email sent!\");\r\n    })\r\n    .catch((error) => {\r\n      const errorCode = error.code;\r\n      const errorMessage = error.message;\r\n      // ..\r\n    });\r\n}\r\n\r\nexport {\r\n  register,\r\n  login,\r\n  signout,\r\n  isSignedIn,\r\n  getUserUId,\r\n  getUserToken,\r\n  forgotpassword,\r\n  getCurrentUser,\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}