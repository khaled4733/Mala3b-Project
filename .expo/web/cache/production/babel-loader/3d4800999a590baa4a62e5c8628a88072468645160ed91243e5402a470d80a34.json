{"ast":null,"code":"import isSelectionValid from\"../../modules/isSelectionValid\";var keyName='__reactResponderId';function getEventPath(domEvent){if(domEvent.type==='selectionchange'){var target=window.getSelection().anchorNode;return composedPathFallback(target);}else{var path=domEvent.composedPath!=null?domEvent.composedPath():composedPathFallback(domEvent.target);return path;}}function composedPathFallback(target){var path=[];while(target!=null&&target!==document.body){path.push(target);target=target.parentNode;}return path;}function getResponderId(node){if(node!=null){return node[keyName];}return null;}export function setResponderId(node,id){if(node!=null){node[keyName]=id;}}export function getResponderPaths(domEvent){var idPath=[];var nodePath=[];var eventPath=getEventPath(domEvent);for(var i=0;i<eventPath.length;i++){var node=eventPath[i];var id=getResponderId(node);if(id!=null){idPath.push(id);nodePath.push(node);}}return{idPath:idPath,nodePath:nodePath};}export function getLowestCommonAncestor(pathA,pathB){var pathALength=pathA.length;var pathBLength=pathB.length;if(pathALength===0||pathBLength===0||pathA[pathALength-1]!==pathB[pathBLength-1]){return null;}var itemA=pathA[0];var indexA=0;var itemB=pathB[0];var indexB=0;if(pathALength-pathBLength>0){indexA=pathALength-pathBLength;itemA=pathA[indexA];pathALength=pathBLength;}if(pathBLength-pathALength>0){indexB=pathBLength-pathALength;itemB=pathB[indexB];pathBLength=pathALength;}var depth=pathALength;while(depth--){if(itemA===itemB){return itemA;}itemA=pathA[indexA++];itemB=pathB[indexB++];}return null;}export function hasTargetTouches(target,touches){if(!touches||touches.length===0){return false;}for(var i=0;i<touches.length;i++){var node=touches[i].target;if(node!=null){if(target.contains(node)){return true;}}}return false;}export function hasValidSelection(domEvent){if(domEvent.type==='selectionchange'){return isSelectionValid();}return domEvent.type==='select';}export function isPrimaryPointerDown(domEvent){var altKey=domEvent.altKey,button=domEvent.button,buttons=domEvent.buttons,ctrlKey=domEvent.ctrlKey,type=domEvent.type;var isTouch=type==='touchstart'||type==='touchmove';var isPrimaryMouseDown=type==='mousedown'&&(button===0||buttons===1);var isPrimaryMouseMove=type==='mousemove'&&buttons===1;var noModifiers=altKey===false&&ctrlKey===false;if(isTouch||isPrimaryMouseDown&&noModifiers||isPrimaryMouseMove&&noModifiers){return true;}return false;}","map":{"version":3,"names":["isSelectionValid","keyName","getEventPath","domEvent","type","target","window","getSelection","anchorNode","composedPathFallback","path","composedPath","document","body","push","parentNode","getResponderId","node","setResponderId","id","getResponderPaths","idPath","nodePath","eventPath","i","length","getLowestCommonAncestor","pathA","pathB","pathALength","pathBLength","itemA","indexA","itemB","indexB","depth","hasTargetTouches","touches","contains","hasValidSelection","isPrimaryPointerDown","altKey","button","buttons","ctrlKey","isTouch","isPrimaryMouseDown","isPrimaryMouseMove","noModifiers"],"sources":["C:/Users/Ahmed Hamza/Desktop/Mal3ab project/Mala3b-Project/node_modules/react-native-web/dist/modules/useResponderEvents/utils.js"],"sourcesContent":["/**\r\n * Copyright (c) Nicolas Gallagher\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n *\r\n * \r\n */\r\nimport isSelectionValid from '../../modules/isSelectionValid';\r\nvar keyName = '__reactResponderId';\r\n\r\nfunction getEventPath(domEvent) {\r\n  // The 'selectionchange' event always has the 'document' as the target.\r\n  // Use the anchor node as the initial target to reconstruct a path.\r\n  // (We actually only need the first \"responder\" node in practice.)\r\n  if (domEvent.type === 'selectionchange') {\r\n    var target = window.getSelection().anchorNode;\r\n    return composedPathFallback(target);\r\n  } else {\r\n    var path = domEvent.composedPath != null ? domEvent.composedPath() : composedPathFallback(domEvent.target);\r\n    return path;\r\n  }\r\n}\r\n\r\nfunction composedPathFallback(target) {\r\n  var path = [];\r\n\r\n  while (target != null && target !== document.body) {\r\n    path.push(target);\r\n    target = target.parentNode;\r\n  }\r\n\r\n  return path;\r\n}\r\n/**\r\n * Retrieve the responderId from a host node\r\n */\r\n\r\n\r\nfunction getResponderId(node) {\r\n  if (node != null) {\r\n    return node[keyName];\r\n  }\r\n\r\n  return null;\r\n}\r\n/**\r\n * Store the responderId on a host node\r\n */\r\n\r\n\r\nexport function setResponderId(node, id) {\r\n  if (node != null) {\r\n    node[keyName] = id;\r\n  }\r\n}\r\n/**\r\n * Filter the event path to contain only the nodes attached to the responder system\r\n */\r\n\r\nexport function getResponderPaths(domEvent) {\r\n  var idPath = [];\r\n  var nodePath = [];\r\n  var eventPath = getEventPath(domEvent);\r\n\r\n  for (var i = 0; i < eventPath.length; i++) {\r\n    var node = eventPath[i];\r\n    var id = getResponderId(node);\r\n\r\n    if (id != null) {\r\n      idPath.push(id);\r\n      nodePath.push(node);\r\n    }\r\n  }\r\n\r\n  return {\r\n    idPath: idPath,\r\n    nodePath: nodePath\r\n  };\r\n}\r\n/**\r\n * Walk the paths and find the first common ancestor\r\n */\r\n\r\nexport function getLowestCommonAncestor(pathA, pathB) {\r\n  var pathALength = pathA.length;\r\n  var pathBLength = pathB.length;\r\n\r\n  if ( // If either path is empty\r\n  pathALength === 0 || pathBLength === 0 || // If the last elements aren't the same there can't be a common ancestor\r\n  // that is connected to the responder system\r\n  pathA[pathALength - 1] !== pathB[pathBLength - 1]) {\r\n    return null;\r\n  }\r\n\r\n  var itemA = pathA[0];\r\n  var indexA = 0;\r\n  var itemB = pathB[0];\r\n  var indexB = 0; // If A is deeper, skip indices that can't match.\r\n\r\n  if (pathALength - pathBLength > 0) {\r\n    indexA = pathALength - pathBLength;\r\n    itemA = pathA[indexA];\r\n    pathALength = pathBLength;\r\n  } // If B is deeper, skip indices that can't match\r\n\r\n\r\n  if (pathBLength - pathALength > 0) {\r\n    indexB = pathBLength - pathALength;\r\n    itemB = pathB[indexB];\r\n    pathBLength = pathALength;\r\n  } // Walk in lockstep until a match is found\r\n\r\n\r\n  var depth = pathALength;\r\n\r\n  while (depth--) {\r\n    if (itemA === itemB) {\r\n      return itemA;\r\n    }\r\n\r\n    itemA = pathA[indexA++];\r\n    itemB = pathB[indexB++];\r\n  }\r\n\r\n  return null;\r\n}\r\n/**\r\n * Determine whether any of the active touches are within the current responder.\r\n * This cannot rely on W3C `targetTouches`, as neither IE11 nor Safari implement it.\r\n */\r\n\r\nexport function hasTargetTouches(target, touches) {\r\n  if (!touches || touches.length === 0) {\r\n    return false;\r\n  }\r\n\r\n  for (var i = 0; i < touches.length; i++) {\r\n    var node = touches[i].target;\r\n\r\n    if (node != null) {\r\n      if (target.contains(node)) {\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n\r\n  return false;\r\n}\r\n/**\r\n * Ignore 'selectionchange' events that don't correspond with a person's intent to\r\n * select text.\r\n */\r\n\r\nexport function hasValidSelection(domEvent) {\r\n  if (domEvent.type === 'selectionchange') {\r\n    return isSelectionValid();\r\n  }\r\n\r\n  return domEvent.type === 'select';\r\n}\r\n/**\r\n * Events are only valid if the primary button was used without specific modifier keys.\r\n */\r\n\r\nexport function isPrimaryPointerDown(domEvent) {\r\n  var altKey = domEvent.altKey,\r\n      button = domEvent.button,\r\n      buttons = domEvent.buttons,\r\n      ctrlKey = domEvent.ctrlKey,\r\n      type = domEvent.type;\r\n  var isTouch = type === 'touchstart' || type === 'touchmove';\r\n  var isPrimaryMouseDown = type === 'mousedown' && (button === 0 || buttons === 1);\r\n  var isPrimaryMouseMove = type === 'mousemove' && buttons === 1;\r\n  var noModifiers = altKey === false && ctrlKey === false;\r\n\r\n  if (isTouch || isPrimaryMouseDown && noModifiers || isPrimaryMouseMove && noModifiers) {\r\n    return true;\r\n  }\r\n\r\n  return false;\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}