{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import TextInput from\"react-native-web/dist/exports/TextInput\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import Image from\"react-native-web/dist/exports/Image\";import Button from\"react-native-web/dist/exports/Button\";import Dimensions from\"react-native-web/dist/exports/Dimensions\";import React,{useEffect,useState}from\"react\";import{getUserUId}from\"../db/Auth\";import{updateBasketball,updateFootball,updateTennis}from\"../db/User\";import{getBStadium}from\"../db/Stadium/Basketball\";import{getTStadium}from\"../db/Stadium/Tennis\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function TennisValidationPage(_ref){var navigation=_ref.navigation,route=_ref.route;var stadName=route.params.name;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),stDate=_useState2[0],setStDate=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),edDate=_useState4[0],setEdDate=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),day=_useState6[0],setDay=_useState6[1];function handel(){console.log('Inside handle()',stadName);getTStadium().then(function(data){console.log(\"tennis stad name is : \",stadName);if(stDate!==''&&edDate!==''&&day!==''&&stDate!==edDate){console.log('number of Tstad = ',data.length);for(var i=0;i<data.length;i++){if(data[i].name===stadName){console.log('found the stad',stadName);var flag=true;if(data[i].state===null){data[i].state=[];}for(var j=0;j<data[i].state.length;j++){if(data[i].state[j].day===day){if(stDate<data[i].state[j].edDate&&stDate>=data[i].state[j].stDate||data[i].state[j].stDate>=stDate&&data[i].state[j].stDate<edDate){alert(\"Tennis Stadium already occupied\");console.log(\"tennis is already occupied\");flag=false;navigation.navigate('Tennis');return;}}}if(flag){getUserUId().then(function(id){navigation.navigate('Payment',{stadName:stadName,day:day,stDate:stDate,edDate:edDate,id:id});});}break;}}}else{alert(\"data is required\");}});}return _jsx(View,{style:styles.container,children:_jsxs(View,{style:styles.component,children:[_jsx(TextInput,{style:styles.textinput,placeholder:\"Enter the day\",onChangeText:setDay,keyboardType:\"default\",placeholderTextColor:\"#22223b\"}),_jsx(TextInput,{style:styles.textinput,placeholder:\"Enter start time\",onChangeText:setStDate,keyboardType:\"default\",placeholderTextColor:\"#22223b\"}),_jsx(TextInput,{style:styles.textinput,placeholder:\"Enter end time\",onChangeText:setEdDate,keyboardType:\"default\",placeholderTextColor:\"#22223b\"}),_jsx(TouchableOpacity,{style:styles.button,onPress:handel,children:_jsx(Text,{style:styles.buttontext,children:\"Book\"})})]})});}var cardwidth=Math.round(Dimensions.get(\"window\").width);var styles=StyleSheet.create({container:{flex:1,alignItems:\"center\",justifyContent:\"center\",backgroundColor:\"#f2e9e4\"},component:{flex:1,backgroundColor:\"#22223b\",borderRadius:20,width:cardwidth-100,marginVertical:60,alignItems:\"center\",justifyContent:\"center\",shadowColor:\"#000000\",shadowOffset:{width:5,height:5},shadowOpacity:0.25,shadowRadius:3},textinput:{marginBottom:20,paddingLeft:5,width:\"75%\",height:40,backgroundColor:\"#f2e9e4\",borderRadius:15},buttontext:{color:\"#22223b\",fontSize:15,fontWeight:\"500\"},button:{backgroundColor:\"#f2e9e4\",marginTop:20,width:120,height:50,borderRadius:10,justifyContent:\"center\",alignItems:\"center\"}});","map":{"version":3,"names":["React","useEffect","useState","getUserUId","updateBasketball","updateFootball","updateTennis","getBStadium","getTStadium","jsx","_jsx","jsxs","_jsxs","TennisValidationPage","_ref","navigation","route","stadName","params","name","_useState","_useState2","_slicedToArray","stDate","setStDate","_useState3","_useState4","edDate","setEdDate","_useState5","_useState6","day","setDay","handel","console","log","then","data","length","i","flag","state","j","alert","navigate","id","View","style","styles","container","children","component","TextInput","textinput","placeholder","onChangeText","keyboardType","placeholderTextColor","TouchableOpacity","button","onPress","Text","buttontext","cardwidth","Math","round","Dimensions","get","width","StyleSheet","create","flex","alignItems","justifyContent","backgroundColor","borderRadius","marginVertical","shadowColor","shadowOffset","height","shadowOpacity","shadowRadius","marginBottom","paddingLeft","color","fontSize","fontWeight","marginTop"],"sources":["C:/Users/Ahmed Hamza/Desktop/Mal3ab project/Mala3b-Project/Pages/TennisValidationPage.jsx"],"sourcesContent":["import {\r\n    TouchableOpacity,\r\n    StyleSheet,\r\n    Text,\r\n    View,\r\n    TextInput,\r\n    ScrollView, Image, Button, Dimensions\r\n} from \"react-native\";\r\nimport React, {useEffect, useState} from \"react\";\r\n// import {addFStadium, deleteFStadium, getFStadium} from \"../db/Stadium/Football\";\r\n// import footballBackground from \"../assets/footballBackground.png\";\r\n// import tennisBackground from \"../assets/tennisBackground.png\";\r\n// import basketballBackground from \"../assets/basketballBackground.png\";\r\nimport {getUserUId} from \"../db/Auth\";\r\nimport {updateBasketball, updateFootball, updateTennis} from \"../db/User\";\r\nimport {getBStadium} from \"../db/Stadium/Basketball\";\r\nimport {getTStadium} from \"../db/Stadium/Tennis\";\r\n\r\n\r\nexport default function TennisValidationPage ({navigation, route}) {\r\n\r\n    let {name: stadName} = route.params; //name -> att. in doc.\r\n\r\n    const [stDate,setStDate] = useState(\"\") //start date\r\n    const [edDate,setEdDate] = useState(\"\")//end date\r\n    const [day,setDay] =  useState(\"\")\r\n\r\n    function handel(){\r\n            console.log('Inside handle()', stadName);\r\n        /*Handle tennis*/\r\n            getTStadium().then((data) => {\r\n                console.log(\"tennis stad name is : \",stadName)\r\n                if (stDate !== '' && edDate !== '' && day !== '' && stDate !== edDate) {\r\n                    console.log('number of Tstad = ', data.length);\r\n                    for (let i = 0; i < data.length; i++) {\r\n                        if (data[i].name === stadName) {  /* This identifies the stadium type !!!!!!!! */\r\n                            console.log('found the stad', stadName);\r\n                            let flag = true; // true ->stad is available\r\n                            if (data[i].state === null) { //if there is no array, set a new one\r\n                                data[i].state = []; //new array\r\n                            }\r\n                            for (let j = 0; j < data[i].state.length; j++) {\r\n                                if (data[i].state[j].day === day) { //same day isn't enough\r\n                                    if ((stDate < data[i].state[j].edDate && stDate >= data[i].state[j].stDate) || //check in same hours interval\r\n                                        (data[i].state[j].stDate >= stDate && data[i].state[j].stDate < edDate)) {\r\n                                        alert(\"Tennis Stadium already occupied\");\r\n                                        console.log(\"tennis is already occupied\")\r\n                                        flag = false; //stad is unavailable after occupation\r\n                                        navigation.navigate('Tennis'); // Ask doc : when navigating it goes 1st to Football.jsx then BasketBall.jsx then Tennis.jsx when it should have directly moved to Tennis\r\n                                        return;\r\n                                    }\r\n                                }\r\n                            }\r\n                            if (flag) { //if flag is available i.e. \"true\", add userId with the \"date\" that he\r\n                                getUserUId().then((id) => { // gets id of current user in \"id\"\r\n                                    navigation.navigate('Payment', {stadName,day, stDate, edDate, id});\r\n                                });\r\n                            }\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    alert(\"data is required\")\r\n                }\r\n            });\r\n\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n            <View style={styles.component}>\r\n                <TextInput\r\n                    style={styles.textinput}\r\n                    placeholder=\"Enter the day\"\r\n                    onChangeText={setDay}\r\n                    keyboardType=\"default\"\r\n                    placeholderTextColor={\"#22223b\"}\r\n                />\r\n\r\n                <TextInput\r\n                    style={styles.textinput}\r\n                    placeholder=\"Enter start time\"\r\n                    onChangeText={setStDate}\r\n                    keyboardType=\"default\"\r\n                    placeholderTextColor={\"#22223b\"}\r\n                />\r\n\r\n                <TextInput\r\n                    style={styles.textinput}\r\n                    placeholder=\"Enter end time\"\r\n                    onChangeText={setEdDate}\r\n                    keyboardType=\"default\"\r\n                    placeholderTextColor={\"#22223b\"}\r\n                />\r\n\r\n                <TouchableOpacity style={styles.button} onPress={handel}>\r\n                    <Text style={styles.buttontext}>Book</Text>\r\n                </TouchableOpacity>\r\n            </View>\r\n        </View>\r\n    );\r\n}\r\nconst cardwidth = Math.round(Dimensions.get(\"window\").width);\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        backgroundColor: \"#f2e9e4\",\r\n    },\r\n    component: {\r\n        flex: 1,\r\n        backgroundColor: \"#22223b\",\r\n        borderRadius: 20,\r\n        width: cardwidth - 100,\r\n        marginVertical: 60,\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        shadowColor: \"#000000\",\r\n        shadowOffset: {\r\n            width: 5,\r\n            height: 5,\r\n        },\r\n        shadowOpacity: 0.25,\r\n        shadowRadius: 3,\r\n    },\r\n    textinput: {\r\n        marginBottom: 20,\r\n        paddingLeft: 5,\r\n        width: \"75%\",\r\n        height: 40,\r\n        backgroundColor: \"#f2e9e4\",\r\n        borderRadius: 15,\r\n    },\r\n    buttontext: {\r\n        color: \"#22223b\",\r\n        fontSize: 15,\r\n        fontWeight: \"500\",\r\n    },\r\n    button: {\r\n        backgroundColor: \"#f2e9e4\",\r\n        marginTop: 20,\r\n        width: 120,\r\n        height: 50,\r\n        borderRadius: 10,\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n    },\r\n});\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}